<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0,  maximum-scale=1, user-scalable=no">
        <link rel="icon" type="image/x-icon" href="https://ccdn.toastmasters.org/medias/images/global/toastmasterslogo2x.png">
        <title>Your TM Experience</title>
        <style>
            /* General reset and basic styles */
        
            body {
                margin: 0;
                padding: 0;
                font-family: Arial, sans-serif;
                background-color: #DEE2E1;
            }
            footer {
                position: fixed;
                bottom: 0;
                width: 100%;
                background-color: #f0f0f0;
                text-align: center;
                padding: 10px 0;
                box-sizing: border-box;
            }
            
            /* Styling for icons in the bottom navigation bar */
            footer{
                background-color: white;
                margin: 0;
                width: 100%;
                padding: 10px 0;
                max-width: 100vw;
                overflow-x: hidden;

            }
            footer nav {
                display: flex;
                justify-content: space-around;
                
            
            }
            footer nav a {
                text-decoration: none;
                color: #333;
            }
            footer nav a:hover {
                color: #007bff;
            }

            .card-container {
                display: flex;
                width: 90%;
                margin: 0 auto;
                flex-wrap: wrap;
            }
            .card {
                width: 40%;
                /*margin: 10;*/
                background-color: white;
                border-radius: 6px;
                overflow: hidden;
                box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            }
            .card img {
                width: 100%;
                height: auto;
            }
            .card-content {
                padding: 10px;
            }

            @media (max-width: 768px) {
                .card {
                    width: 100%;
                }
            }

            .form-group {
                margin-bottom: 15px;
            }
            .form-group label {
                display: block;
                font-weight: bold;
                margin-bottom: 5px;
            }
            .form-group input[type="text"],
            .form-group input[type="email"],
            .form-group input[type="password"],
            .form-group textarea {
                width: calc(100% - 12px);
                padding: 8px;
                border: 1px solid #ccc;
                border-radius: 4px;
                font-size: 14px;
            }
            .form-group textarea {
                resize: vertical;
            }
            .form-group .file-input {
                display: block;
                margin-top: 10px;
            }
            .form-group .file-input input[type="file"] {
                display: none;
            }
            .form-group .file-input label {
                display: inline-block;
                background-color: #007bff;
                color: #fff;
                padding: 8px 12px;
                border-radius: 4px;
                cursor: pointer;
                font-size: 14px;
            }
            .form-group .file-name {
                margin-top: 5px;
                font-size: 12px;
            }
            .form-group .social-input {
                display: flex;
                align-items: center;
            }
            .form-group .social-input label {
                margin-right: 10px;
            }
            .form-group .social-input input[type="text"] {
                flex: 1;
                padding: 8px;
                border: 1px solid #ccc;
                border-radius: 4px;
                font-size: 14px;
            }
            .form-group .social-input span {
                font-size: 12px;
                color: #666;
            }
            .form-group .submit-btn {
                text-align: center;
            }
            .form-group .submit-btn input[type="submit"] {
                background-color: #4CAF50;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 16px;
            }

            .button {
                display: inline-block;
            
                font-size: 24px;
                font-weight: bold;
                text-align: center;
                background-color: #024165;
                color: white;
                border: none;
                border-radius: 10px;
                cursor: pointer;
                width: 100%;
                text-decoration: none;
                box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
                transition: background-color 0.3s ease;
            }
            
            .button:hover {
                background-color: #fff;
                color: #024165;
            }

            .form-container {
                max-width: 600px;
                margin: 0 auto;
                background-color: #fff;
                border-radius: 8px;
            
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            }

            .form-container label {
                display: block;
                text-align: left;
                margin-bottom: 5px;
                margin-left: 8px;
            }

            .form-container input[type="text"],
            .form-container input[type="email"],
            .form-container input[type="password"],
            .form-container textarea,
            .form-container input[type="tel"],
            .form-container input[type="file"] {
                width: calc(100% - 20px);
                padding: 10px;
                margin-bottom: 15px;
                border: 1px solid #ccc;
                border-radius: 4px;
                box-sizing: border-box;
                margin-left: 8px;
                
            }

            .form-container button {
                padding: 12px 20px;
                background-color: #024165;
                color: white;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                margin-left: 8px;
            }

            .form-container button.secondary {
                background-color: #008CBA;
            }

            .form-container button.danger {
                background-color: #f44336;
            }


            @media (max-width: 600px) {
                .form-container input[type="text"],
                .form-container input[type="email"],
                .form-container input[type="password"],
                .form-container textarea,
                .form-container input[type="tel"],
                .form-container input[type="file"] {
                    width: 100%;
                }
            }

            .modal {
                display: none; /* Hidden by default */
                position: fixed; /* Stay in place */
                z-index: 1; /* Sit on top */
                left: 0;
                top: 0;
                width: 100%; /* Full width */
                height: 100%; /* Full height */
                overflow: auto; /* Enable scroll if needed */
                background-color: rgb(0,0,0); /* Fallback color */
                background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            }

            /* Modal Content/Box */
            .modal-content {
                background-color: #fefefe;
                margin: 15% auto; /* 15% from the top and centered */
                padding: 20px;
                border: 1px solid #888;
                width: 80%; /* Could be more or less, depending on screen size */
            }

            /* The Close Button */
            .close {
                color: #aaa;
                float: right;
                font-size: 28px;
                font-weight: bold;
                background-color: #024165;
            }

            .close:hover,
            .close:focus {
                color: black;
                text-decoration: none;
                cursor: pointer;
            }

            .upgrade-container {
                margin: 8px;
                padding: 10px;
                border: 1px solid #ccc;
                border-radius: 5px;
                font-family: Arial, sans-serif;
            }

            .checkbox-label {
                display: flex;
                align-items: center;
                font-size: 1.1em;
            }

            .checkbox-label input[type="checkbox"] {
                width: 20px;
                height: 20px;
                margin-right: 10px;
                accent-color: #024165; /* Change color to blue */
                cursor: pointer;
                transform: scale(1.5); /* Make checkbox larger */
            }

            .custom-form-container {
                margin-left: 5%;
                margin-right: 5%;
                text-align: center;
                max-width: 400px;
                margin: auto;
            }

            .custom-form-group {
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                margin-bottom: 1rem;
            }

            .custom-form-label {
                margin-bottom: 0.4rem;
                font-weight: bold;
                margin-left: 5%;
            }

            .custom-form-input {
                width: 90%;
                padding: 0.5rem;
                box-sizing: border-box;
                border-radius: 5px;
                margin-left: auto;
                margin-right: auto;
            }

            .custom-reset-link {
                cursor: pointer;
                color: #024165;
                margin-top: -8px;
                margin-bottom: 10px;
                text-align: center;
                width: 100%;
            }

            .custom-login-button {
                background-color: #024165;
                border: none;
                color: white;
                height: 6vh;
                width: 100%;
                max-width: 150px;
                cursor: pointer;
                margin-top: 10px;
                border-radius: 5px;
            }

            .custom-button-wrapper {
                display: flex;
                justify-content: center;
            }

        </style>
    </head>
    <body>
        <div id="mainViewDiv" style="display: none;">
            <div>
                <div style="display: inline;" id="calendarView" style="height: 100vh; width: 100%; ">
                    <iframe src="TMExperienceViews/calendarView.html" style="height: 100vh; width: 100%;"   ></iframe>
                </div>
                <div  style="display: none;"  id="feedbackView" style="height: 100vh;  width: 100%;">
                    <iframe src="TMExperienceViews/feedbackView.html" style="height: 100vh; width: 100%;"></iframe>
                </div>
                <div style="display: none;"  id="toolsView"  style="height: 100vh;  width: 100%;">
                    <iframe src="TMExperienceViews/toolsView.html" style="height: 100vh; width: 100%;" ></iframe>
                </div>
                <div style="display: none;"  id="adminView"  style="height: 100vh;  width: 100%;">
                    <iframe src="TMExperienceViews/adminView.html" style="height: 100vh; width: 100%;" ></iframe>
                </div>
                <div style="display: none;"  id="profileView"  style="height: 100vh; width: 100%;">
                    <iframe src="TMExperienceViews/profileView.html" style="height: 100vh; width: 100%;"></iframe>
                </div>
            </div>
            <footer>
                <nav id="navBar">
                    <a href="#"><img id="calendarBtn" onclick="changeTo(0)" src="assets/calendar.svg"  height="24px" width="24px"></a> 
                    <a href="#"><img id="feedbackBtn" onclick="changeTo(1)" src="assets/list.clipboard.fill.svg" height="24px" width="16px"></a> 
                    <a href="#"><img id="toolsBtn" onclick="changeTo(2)"  src="assets/tools.svg" height="24px" width="24px"></a> 
                    <a href="#"><img id="profileBtn" onclick="changeTo(4)"  src="assets/person.svg"  height="24px" width="24px"></a>  
                    
                </nav>
            </footer>
        </div>
        <div class="form-container" id="registerView" style="display: none; background-color: red;">
            <div>
                <h1 style="text-align: center;">Your <span style=" color: #024165;">TM</span> Experience</h1>
                <h2 style="text-align: center;">Create your account below or <span id=''  style="color: #7D2128; cursor: pointer; "onclick="showModal()"><u id='signInDialogBtn' >sign-in</u></span></h2>
               
                
                <label for="registerName">Name</label>
                <input type="text" id="registerName" placeholder="Enter your name"><br>
        
                <label for="registerEmail">Email</label>
                <input type="email" id="registerEmail" placeholder="Enter your email"><br>
        
                <label for="registerPassword">Password</label>
                <input type="password" id="registerPassword" placeholder="Enter your password"><br>
        
                <label for="registerBio">Bio</label>
                <textarea id="registerBio" placeholder="Tell us about yourself"></textarea><br>
        
                <label for="image">Select image:</label>
                <input type="file" id="image" name="img" accept="image/*"><br>

                <div class="upgrade-container">
                    <label class="checkbox-label">
                        <input type="checkbox" id="upgradeCheckbox">
                        Yes, I want to upgrade to the TMExperience Pro, to record my speeches and to improve my speeches even better.
                    </label>
                </div>
                <button id="registerBtn"  style="align-self: center; background-color: #024165;">Register</button>
            </div>
        </div>
        <div id="welcomeView" style="text-align: center;">
            <p style="text-align: left; margin-left: 5%;">Discover...
                <span style="display: block; text-align:center ; font-weight: bold; font-size: 32px;">
                    "How To Master<br>Public Speaking"
                </span>
                <span style="display: block;text-align: center; ">
                    <mark>With the TM Experience App</mark>
                </span>
            </p>
            <p style="width: 90%; margin-left: 5%; margin-right: 5%; text-align: start;">
                Do you want to be a better speaker?<br>
                Do you want to be able to express yourself?<br>
                Do you want to be able to help others?<br>
                <br>
                Do you like receiving feedback on your speeches?<br>
                Do you like preparing throughly before a speech?<br>
                Do you like improving your speeches?<br>
                <br>
                Do you want the #1 app to master public speaking?<br><br>
                Then...Log In!
            </p>
            <div id="resetModal" class="modal">
                <div class="modal-content" style="padding-bottom: 64px;">
                    <h2 style="text-align: center;">Reset Your Password</h2>
                    <p style="text-align: start; margin-bottom: 0px;">Enter Your Email </p><br>
                    <input type="email" id="resetEmailET" style="width: 100%; height: 40px; margin-left: auto; margin-right: auto; margin-top: 0px;" placeholder="Enter your email"><br>
                    <div style="float: right; margin-top: 12px;">
                        <button id="resetCancelBtn" style="background-color: #fff; color: #000; border: none; margin-left: auto; padding: 8px; cursor: pointer;">Cancel</button>
                        <button id="resetSendBtn" style="float: right; background-color: #024165; color: white; padding: 8px; cursor: pointer; border-radius: 10px; border: none;">Reset Password</button>
                    </div>
                </div>
            </div>
            <div class="custom-form-container">
                <div class="custom-form-group">
                  <label for="customEmail" class="custom-form-label">Email</label>
                  <input type="email" id="logInEmail" class="custom-form-input" placeholder="Enter your email">
                </div>
              
                <div class="custom-form-group">
                  <label for="customPassword" class="custom-form-label">Password</label>
                  <input type="password" id="logInPassword" class="custom-form-input" placeholder="Enter your password">
                </div>
              
                <p id="resetEmailBtn" class="custom-reset-link">Reset your password?</p>
              
                <div class="custom-button-wrapper">
                  <button id="logInBtn" class="custom-login-button">Log In</button>
                </div>
                <p style="text-align: center;">version 1.0.1.0</p>
            </div>
           
            
        </div>
        <script type="module">
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js";
            import { getFirestore } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
            import { getAuth, signOut ,signInWithEmailAndPassword,createUserWithEmailAndPassword, onAuthStateChanged, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
            import { collection, doc, setDoc, getDoc} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"; 
            import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-storage.js"; 

            const firebaseConfig = {
                apiKey: "AIzaSyBoFkUtcSFuwuSiUV8y434de-u8t5-MriM",
                authDomain: "naples-sunrise-bay.firebaseapp.com",
                projectId: "naples-sunrise-bay",
                storageBucket: "naples-sunrise-bay.appspot.com",
                messagingSenderId: "39028676552",
                appId: "1:39028676552:web:82d59b7cb863113f9e12fd",
                measurementId: "G-L0QCNW7C6W"
            };
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            const auth = getAuth(app)
            const db = getFirestore(app);

            let mainViewDiv = document.getElementById("mainViewDiv")

            //views
            var calendarView = document.getElementById('calendarView');
            var feedbackView = document.getElementById('feedbackView')
            var toolsView = document.getElementById('toolsView')
            var adminView = document.getElementById('adminView')
            var profileView = document.getElementById('profileView')

            //nav buttons
            let calendarBtn = document.getElementById("calendarBtn")
            let feedbackBtn = document.getElementById("feedbackBtn")
            let toolsBtn = document.getElementById("toolsBtn")
            let adminBtn = document.getElementById("adminBtn")
            let profileBtn = document.getElementById("profileBtn")

            //buttons
            let logInBtn = document.getElementById("logInBtn")
           
            let resetModal = document.getElementById("resetModal")
            let resetEmailBtn = document.getElementById("resetEmailBtn")
            let resetEmailET = document.getElementById("resetEmailET")
            let resetSendBtn = document.getElementById("resetSendBtn")
            let resetCancelBtn = document.getElementById("resetCancelBtn")


            resetEmailBtn.onclick = () => {
                resetModal.style.display = 'inline'
            }

            resetSendBtn.onclick = () => {
                let emailText = resetEmailET.value
                requestEmail(emailText)
            }

            resetCancelBtn.onclick = () => {
                resetModal.style.display = 'none'
            }

            function changeTo(destination)
            {
                let views = [calendarView, feedbackView, toolsView, adminView, profileView]
                for(var i=0; i<views.length; i++)
                {
                    views[i].style.display = "none"
                }
                views[destination].style.display = "inline"

                console.log(`view to be visible ${destination}`)

                selectedBtn(destination)
            }

            function showMainView()
            {
                let mainView = document.getElementById("mainViewDiv")
                let registerView = document.getElementById("registerView")
                let formContainer = document.getElementById("form-container")
                let welcomeView = document.getElementById("welcomeView")

                mainView.style.display = 'inline'
                registerView.style.display = 'none'
                welcomeView.style.display = 'none'
                
            }

            function filledOut()
            {
                let name = document.getElementById("registerName").value
                let email = document.getElementById("registerEmail").value
                let password = document.getElementById("registerPassword").value
                let bio = document.getElementById("registerBio").value
                let image = document.getElementById("image")

                if(name.length < 1)
                {
                    return false;
                }
                if(email.length < 1)
                {
                    return false;
                }
                if(password.length < 1)
                {
                    return false;
                }
                if(bio.length < 1)
                {
                    return false;
                }
                if(image.files < 1)
                {
                    return false;
                }
                return true
            }

            function createAccount()
            {
                let emailValue = document.getElementById('registerEmail').value
                let passwordValue = document.getElementById('registerPassword').value

                let file = document.getElementById("image").files[0]
                createUserWithEmailAndPassword(auth, emailValue, passwordValue)
                .then((userCredential) => {
                    const user = userCredential.user;
                    let id = user.uid;
                    if(id != null)
                    {
                        uploadImage(file, id)
                    }
                    // ...
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    alert(`MV-215: there was an error ${errorMessage} with code ${errorCode}`)
                    // ..
                });
            }

            function uploadImage(file, userId)
            {
                    const storage = getStorage();
                    const moutainsRef = ref(storage, `${userId}.jpg`)
                    uploadBytes(moutainsRef, file).then((snapshot) => {
                        console.log('Uploaded a blob or file!');
                        getDownloadURL(moutainsRef).then((downloadURL) => {
                            console.log('File available at', downloadURL);
                            createUser(userId, downloadURL)
                        }).catch((error) => {
                            console.error('Error getting download URL', error);
                            alert('Error getting download URL');
                        });
                    });
            }

            function createUser(userId, imageUrl)
            {
                const usersRef = collection(db, "users");

                let name = document.getElementById("registerName").value
                let email = document.getElementById("registerEmail").value
                let password = document.getElementById("registerPassword").value

                let bio = document.getElementById("registerBio").value
                
                setDoc(doc(usersRef, userId), {
                    name: `${name}`,email: `${email}`, bio:`${bio}`, 
                    imageUrl: `${imageUrl}`,speeches: [] }
                ).then(()=>{
                    alert("created account successfully")
                    let myModal = document.getElementById('myModal');
                   
                    const checkbox = document.getElementById('upgradeCheckbox');
                    if(checkbox.checked){
                        //go to the website stripe. 
                    }else{
                        localStorage.removeItem('showModal'); // Remove the flag
                        myModal.style.display = 'inline'; 
                    }
                    
                });
            }

            async function checkRole(userId)
            {
                const userRef = doc(db, "users", userId)

                const docSnap = await getDoc(userRef);
                if (docSnap.exists()) {
                    if(docSnap.data().role == 'admin'){
                        alert(`admin user`)
                        const adminLink = document.createElement('a');
                        adminLink.href = '#';

                        const adminImg = document.createElement('img');
                        adminImg.id = 'adminBtn';
                        adminImg.src = 'TMExperienceViews/assets/admin.svg';
                        adminImg.height = 24;
                        adminImg.width = 24;
                        adminImg.setAttribute('onclick', 'changeTo(3)');

                        adminLink.appendChild(adminImg);

                        document.getElementById('navBar').appendChild(adminLink);
                    }
                    showMainView()
                } else {
                    console.log("No such document!");
                }

            }

            function signIn(email, password) {
                signOut(auth).then(() => {
                    signInWithEmailAndPassword(auth, email, password)
                    .then((userCredential) => {
                        const user = userCredential.user;
                        console.log(`User signed in: ${user.uid}`);
                        alert("Welcome back!")
                        checkRole(user.uid)
                    })
                    .catch((error) => {
                        const errorCode = error.code;
                        const errorMessage = error.message;
                        console.error(`Sign-in error: ${errorCode} - ${errorMessage}`);
                        alert(`Logged in failed ${errorMessage}`)
                    });
                        }).catch((error) => {
                        // An error happened.
                });
                
            }

            function requestEmail(email)
            {
                sendPasswordResetEmail(auth, email)
                .then(() => {
                    alert('check your email to reset your password!')
                    resetModal.style.display = 'none'
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    alert(`there was an error ${error}`)
                })
            }

            function showRegister(bool)
            {
                let registerView = document.getElementById("registerView")
                let welcomeView = document.getElementById("welcomeView")
                if(bool)
                {
                    registerView.style.display = "inline"
                    welcomeView.style.display = "none"
                }
                else{
                    registerView.style.display = "none"
                    welcomeView.style.display = "inline"
                }
            }


            registerBtn.onclick = () => {
                if(filledOut()){
                    createAccount()
                }
                else{
                    alert("not filled out")
                }
            }

            logInBtn.onclick = () => {
                let email = document.getElementById("logInEmail").value; // Corrected: "logInEmail" instead of "LogInEmail"
                let password = document.getElementById("logInPassword").value
                signIn(email, password)
            } 

            showRegister(false)
            window.onload = function() {
                if (localStorage.getItem('showModal') === 'true') {
                    let myModal = document.getElementById('myModal');
                    localStorage.removeItem('showModal'); // Remove the flag
                    myModal.style.display = 'inline'; // Show the modal
                }
            };
        
        </script>
    
        <script>
            // Function to change iframe src
            var calendarView = document.getElementById('calendarView');
            var feedbackView = document.getElementById('feedbackView')
            var toolsView = document.getElementById('toolsView')
            var adminView = document.getElementById('adminView')
            var profileView = document.getElementById('profileView')

            let views = [calendarView, feedbackView, toolsView, adminView, profileView]
            
            function changeTo(destination)
            {
                views.forEach((view, index) => {
                    if (index === destination) {
                        view.style.display = 'inline';
                    } else {
                        view.style.display = 'none';
                    }
                });
                selectedBtn(destination)
            }

            function selectedBtn(destination)
            {
                let calendarBtn = document.getElementById("calendarBtn")
                let feedbackBtn = document.getElementById("feedbackBtn")
                let toolsBtn = document.getElementById("toolsBtn")
                let adminView = document.getElementById("adminView")
                let profileBtn = document.getElementById("profileBtn")

                calendarBtn.src = "TMExperienceViews/assets/calendar.circle.svg"
                feedbackBtn.src = "TMExperienceViews/assets/list.clipboard.svg"
                toolsBtn.src = "TMExperienceViews/assets/tools.svg"
                profileBtn.src = "TMExperienceViews/assets/person.svg"
                adminBtn.src = "TMExperienceViews/assets/admin.svg"
                
                switch (destination){
                    case 0:
                        calendarBtn.src = "TMExperienceViews/assets/calendar_fill.svg"
                        break
                    case 1:
                        feedbackBtn.src = "TMExperienceViews/assets/list.clipboard.fill.svg"
                        break
                    case 2:
                        toolsBtn.src = "TMExperienceViews/assets/tools_b.svg"
                        break
                    case 3:
                        adminBtn.src = "TMExperienceViews/assets/admin_b.png"
                        break
                    case 4:
                        profileBtn.src = "TMExperienceViews/assets/person_b.svg"
                        break
                }
            }
            changeTo(0)
        </script>
        <script>
            let startX;
                let currentX;
                const threshold = 50; // Minimum swipe distance for visibility change
            
                let voteDiv = document.getElementById("voteDiv")
                let speakerDiv = document.getElementById("speakerDiv")
                let voteBtn = document.getElementById("voteBtn")
                let speakerBtn = document.getElementById("speakerBtn")
            
                document.addEventListener('touchstart', handleTouchStart, false);
                document.addEventListener('touchmove', handleTouchMove, false);

                var modal = document.getElementById("myModal");
                var modalId = document.getElementById("modalId")

                var btn = document.getElementById("signInDialogBtn");

                btn.onclick = function() {
                    modal.style.display = "block";

                }

                function closeModal()
                {
                    modal.style.display = "none"
                }

                window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                    }
                }

                function showModal(name, id){
                    modal.style.display = "block"
                   
                }
            
                function handleTouchStart(event) {
                    startX = event.touches[0].pageX;
                }

                function handleTouchMove(event) {
                    if (!startX) return;
            
                    currentX = event.touches[0].pageX;
            
                    let deltaX = currentX - startX;
            
                    if (Math.abs(deltaX) > threshold) {
                        if (deltaX > 0) {
                            showView('view2');
                        } else {
                            showView('view1');
                        }
                        startX = null;
                    }
                }
        </script>
    </body>
</html>
